<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Quiz</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 40px; background-color: #fafafa; }
        .container { position: relative; max-width: 800px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; }
        h2 { color: #333; }
        .divider { width: 100%; height: 2px; background-color: #ddd; margin: 20px 0; }
        button { margin: 5px; padding: 10px 15px; font-size: 16px; cursor: pointer; border: none; background: #eee; }
        button:hover { background-color: #ddd; }
        #toggle-button { position: absolute; top: 20px; right: 20px; }
        .option-btn { margin: 5px; }
        #feedback { font-size: 1.1em; margin-top: 10px; }
        #restartBtn { margin-top: 15px; display: none; }
    </style>
</head>
<body>

    <div class="container">
        <h2>A ÂçÄ (ÂñÆÂ≠óÂàóË°®)</h2>
        <button id="toggle-button">‰∏≠</button>
        <ul id="wordList"></ul>
        <div class="divider"></div>

        <h2>B ÂçÄ (Ê∏¨È©óÂçÄ)</h2>
        <p id="questionText"></p>
        <div id="options"></div>
        <p id="feedback"></p>
        <button id="restartBtn">ÂÜç‰æÜ‰∏ÄËº™</button>
    </div>

    <script>
        const wordsData = [
            { en: "awareness", zh: "ÊÑèË≠ò" }, { en: "neuroscience", zh: "Á•ûÁ∂ìÁßëÂ≠∏" },
            { en: "consent", zh: "ÂêåÊÑè" }, { en: "consideration", zh: "ËÄÉÊÖÆ" },
            { en: "scenario", zh: "ÊÉÖÂ¢É" }, { en: "pester", zh: "ÁÖ©Êìæ" },
            { en: "contribute", zh: "Ë≤¢Áçª" }, { en: "discrimination", zh: "Ê≠ßË¶ñ" },
            { en: "variant", zh: "ËÆäÈ´î" }, { en: "reconstruct", zh: "ÈáçÂª∫" },
            { en: "demonstrate", zh: "Â±ïÁ§∫" }, { en: "sequence", zh: "È†ÜÂ∫è" },
            { en: "decoding", zh: "Ëß£Á¢º" }, { en: "recreate", zh: "ÈáçÁèæ" },
            { en: "interaction", zh: "‰∫íÂãï" }, { en: "privacy", zh: "Èö±ÁßÅ" },
            { en: "violate", zh: "‰æµÁäØ" }, { en: "ethical", zh: "ÂÄ´ÁêÜÁöÑ" },
            { en: "secure", zh: "ÂÆâÂÖ®ÁöÑ" }, { en: "investigative", zh: "Ë™øÊü•ÁöÑ" },
            { en: "significant", zh: "È°ØËëóÁöÑ" }, { en: "journalistic", zh: "Êñ∞ËÅûÁöÑ" },
            { en: "specific", zh: "ÁâπÂÆöÁöÑ" }, { en: "arbitrarily", zh: "‰ªªÊÑèÂú∞" },
            { en: "obviously", zh: "ÊòéÈ°ØÂú∞" }, { en: "objective", zh: "ÂÆ¢ËßÄÁöÑ" },
            { en: "inherent", zh: "Âõ∫ÊúâÁöÑ" }, { en: "nevertheless", zh: "ÁÑ∂ËÄå" },
            { en: "decision", zh: "Ê±∫ÂÆö" }, { en: "digital devices", zh: "Êï∏‰ΩçË£ùÁΩÆ" }
        ];

        const wordListUl = document.getElementById("wordList");
        wordsData.forEach(wordObj => {
            const li = document.createElement("li");
            li.innerHTML = `<span class="en">${wordObj.en}</span> <span class="zh" style="display:none">${wordObj.zh}</span>`;
            li.addEventListener("click", () => {
                const utterance = new SpeechSynthesisUtterance(wordObj.en);
                utterance.lang = "en-US";
                speechSynthesis.speak(utterance);
            });
            wordListUl.appendChild(li);
        });

        document.getElementById("toggle-button").addEventListener("click", () => {
            document.querySelectorAll("#wordList .en").forEach(span => span.style.display = "none");
            document.querySelectorAll("#wordList .zh").forEach(span => span.style.display = "inline");
            setTimeout(() => {
                document.querySelectorAll("#wordList .en").forEach(span => span.style.display = "inline");
                document.querySelectorAll("#wordList .zh").forEach(span => span.style.display = "none");
            }, 2000);
        });

        let currentQuestionIndex = 0;
        let questions = [];

        function generateQuizQuestions() {
            const totalWords = wordsData.length;
            questions = wordsData.map(word => ({
                chinese: word.zh,
                correctAnswer: word.en,
                options: shuffle([word.en, ...getRandomOptions(word.en, totalWords)])
            }));
        }

        function getRandomOptions(correct, total) {
            const incorrect = wordsData.filter(w => w.en !== correct);
            return shuffle(incorrect).slice(0, 3).map(w => w.en);
        }

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function displayQuestion(index) {
            const q = questions[index];
            document.getElementById("questionText").textContent = `Ë´ãÈÅ∏Âá∫Ëàá„Äå${q.chinese}„ÄçÁõ∏Á¨¶ÁöÑËã±ÊñáÂñÆÂ≠óÔºö`;
            const optionsDiv = document.getElementById("options");
            optionsDiv.innerHTML = "";
            document.getElementById("feedback").textContent = "";

            q.options.forEach(option => {
                const btn = document.createElement("button");
                btn.className = "option-btn";
                btn.textContent = option;
                btn.addEventListener("click", () => {
                    if (option === q.correctAnswer) {
                        document.getElementById("feedback").textContent = "‚úÖ Correct!";
                        setTimeout(() => {
                            currentQuestionIndex++;
                            if (currentQuestionIndex < questions.length) {
                                displayQuestion(currentQuestionIndex);
                            } else {
                                document.getElementById("feedback").textContent = "üéâ ÊÅ≠Âñú‰Ω†ÂÆåÊàêÊú¨Ëº™Ê∏¨È©ó!";
                                document.getElementById("restartBtn").style.display = "inline-block";
                            }
                        }, 800);
                    } else {
                        document.getElementById("feedback").textContent = "‚ùå Wrong! Try again.";
                        btn.disabled = true;
                    }
                });
                optionsDiv.appendChild(btn);
            });
        }

        document.getElementById("restartBtn").addEventListener("click", () => {
            document.getElementById("restartBtn").style.display = "none";
            currentQuestionIndex = 0;
            generateQuizQuestions();
            displayQuestion(0);
        });

        generateQuizQuestions();
        displayQuestion(0);
    </script>

</body>
</html>
